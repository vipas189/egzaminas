{% extends "base.html" %}

{% block title %}Modulio dėstytojai{% endblock %}

{% block content %}
<h2>Modulio dėstytojų priskyrimas</h2>
<h4>Modulis: {{ module.name }}</h4>

<form method="POST">
    {{ form.hidden_tag() }}
    
    <div class="card mb-3">
        <div class="card-header">
            Pasirinkite dėstytojus
        </div>
        <div class="card-body">
            {% if instructors %}
                <div class="mb-3">
                    {% for choice in form.instructor_ids %}
                        <div class="form-check">
                            <!-- Pakeičiame tai, kaip WTForms generuoja įvesties laukus, kad išvengtume dublikatų -->
                            <input type="checkbox" 
                                   id="instructor_{{ choice.data }}" 
                                   name="instructor_ids" 
                                   value="{{ choice.data }}" 
                                   class="form-check-input"
                                   {% if choice.checked %}checked{% endif %}>
                            <label for="instructor_{{ choice.data }}" class="form-check-label">
                                {{ choice.label.text }}
                            </label>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-muted">Sistemoje nėra užregistruotų dėstytojų.</p>
            {% endif %}
        </div>
        <div class="card-footer">
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('view_module', id=module.id) }}" class="btn btn-secondary">Atšaukti</a>
        </div>
    </div>
</form>
{% endblock %}