{% extends "base.html" %}

{% block title %}Testų sąrašas{% endblock %}

{% block content %}
<h1>Testai</h1>

{% if tests %}
    <table class="table">
        <thead>
            <tr>
                <th>Pavadinimas</th>
                <th>Modulis</th>
                <th>Dėstytojas</th>
                <th>Trukmė</th>
                <th>Statusas</th>
                <th>Veiksmai</th>
            </tr>
        </thead>
        <tbody>
            {% for test in tests %}
                {% set module = test.module %}
                {% set instructor = test.instructor %}
                <tr>
                    <td>{{ test.title }}</td>
                    <td>{{ module.name if module else 'Nežinomas modulis' }}</td>
                    <td>{{ instructor.name + ' ' + instructor.last_name if instructor else 'Nežinomas dėstytojas' }}</td>
                    <td>{{ test.duration }} min.</td>
                    <td>
                        {% if test.is_active %}
                            <span class="badge bg-success">Aktyvus</span>
                        {% else %}
                            <span class="badge bg-secondary">Neaktyvus</span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ url_for('preview_test', test_id=test.id) }}" class="btn btn-sm btn-info">Peržiūrėti</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="alert alert-info">Testų sąrašas tuščias.</div>
{% endif %}
{% endblock %}